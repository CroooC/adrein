{% extends 'a_bases/base.html' %}

{% load static %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'apps/css/qrcode.css' %}"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Handjet:wght@100..900&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.3.1/dist/jsQR.min.js"></script>
{% endblock %}

{% block title %}QRcode{% endblock %}

{% block content %}
    <h1>QR Code Generator and Reader</h1>
    <div id="generator">
        <h2>QR Code Generator</h2>
        <input type="text" id="urlInput" placeholder="Enter URL to generate QR code">
        <button id="generate-qrcode">Generate</button>
        {% comment %} onclick="generateQR()" {% endcomment %}
        <br>
        <canvas id="qrcode-canvas" width="200" height="200"></canvas>
        <button id="download-qrcode">Download QR Code</button>
    </div>
    <div id="reader">
        <h2>QR Code Reader</h2>
        <p>21x21</p>
        {% comment %} <input type="file" id="qr-file" accept="image/*">
        onchange="readQR(this)" {% endcomment %}
        <div id="qr-grid"></div>
        <button id="read-qrcode">Read QR Code</button>
        <br>
        <div id="qrResult"></div>
        <p>The QR Reader wasn't tested, for obvious reasons...</p>
    </div>

    <script src="{% static 'apps/js/qrcode.js' %}"></script>
{% endblock %}
